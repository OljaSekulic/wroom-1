<div *ngIf="!loaded" fxLayout="column" fxLayoutAlign="center center">
    <h1 fxFlex="15%" style="text-align: center;">Working on it...</h1>
    <mat-spinner fxFlex color="accent"></mat-spinner>
</div>

<div *ngIf="loaded && empty" fxLayout="column" fxLayoutAlign="center center">
    <h1 fxFlex="15%" style="text-align: center;">Your shopping cart is empty.</h1>
    
</div>

<div class="content" fxLayout="column" fxLayoutAlign="start center" *ngIf="loaded && !empty">

    <h1>Hello, this is your Shopping Cart</h1>

    <div class="owner-ads-container" fxFlex *ngFor="let owner of owners" fxLayout="column" fxLayoutAlign="start center">
        <mat-card fxFlex *ngFor="let ad of owner.adsObj" fxLayout="column" fxLayoutAlign="start center">

            <div fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="10px" style="width: 100%;">

                <div fxFlex="25%" class="image-container" fxLayout="row" fxLayoutAlign="center center">
                    <img fxFlex *ngIf="ad.image" [src]="getSantizeUrl(ad.image)" alt="image" height="150" width="120">
                    <img fxFlex *ngIf="!ad.image" src="../../../../../assets/noimage.png" alt="image" height="150"
                        width="120">
                </div>

                <div fxFlex>
                    <mat-card-header fxLayout="row" fxLayoutAlign="center">
                        <div fxFlex="50%">
                            <mat-card-title>{{ad?.vehicleObj?.brandType.name}} {{ad?.vehicleObj?.modelType.name}}
                            </mat-card-title>
                            <mat-card-subtitle>{{ad?.locationObj?.city}}, {{ad?.locationObj?.country}}
                            </mat-card-subtitle>
                        </div>
                        <div fxFlex></div>
                        <div fxFlex="30%">
                            <span>
                                <mat-icon style="padding: 0px; margin: 0px;vertical-align:middle;" color="warn">
                                    star_rate</mat-icon>
                                {{ad?.averageRate}}
                            </span>

                            <button class="mini-button" mat-mini-fab color="accent" aria-label="Price"
                                matTooltip="Click for more info about pricing">
                                {{ad?.priceListObj?.pricePerDay}}$
                            </button>

                        </div>
                    </mat-card-header>

                    <mat-card-content fxLayout="row" fxLayoutAlign="center center">
                        <table fxFlex="30%">
                            <tbody>
                                <tr>
                                    <td>Fuel:</td>
                                    <td>{{ad?.vehicleObj?.fuelType.name}}</td>
                                </tr>
                                <tr>
                                    <td>Gearbox:</td>
                                    <td>{{ad?.vehicleObj?.gearboxType.name}}</td>
                                </tr>
                                <tr>
                                    <td>Body:</td>
                                    <td>{{ad?.vehicleObj?.bodyType.name}}</td>
                                </tr>
                            </tbody>
                        </table>

                        <mat-divider vertical style="height:100px;margin-right: 5px;"></mat-divider>

                        <table fxFlex="40%">
                            <tbody>
                                <tr>
                                    <td>Mileage:</td>
                                    <td>{{ad?.vehicleObj?.mileage}}</td>
                                </tr>
                                <tr>
                                    <td>Collision Damage Waiver:</td>
                                    <td>
                                        <mat-icon *ngIf="!ad?.vehicleObj?.cdw">close</mat-icon>
                                        <mat-icon *ngIf="ad?.vehicleObj?.cdw">check</mat-icon>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Child Seats:</td>
                                    <td>
                                        {{ad?.vehicleObj?.childSeats}}
                                    </td>
                                </tr>
                            </tbody>
                        </table>

                        <div fxFlex></div>
                    </mat-card-content>
                </div>

            </div>
        </mat-card>

        <div fxFlex="10%" fxLayout="row" fxLayoutAlign="end" style="margin: 10px;">
            <button mat-raised-button color="accent">Send request to owner</button>
        </div>
    </div>

</div>